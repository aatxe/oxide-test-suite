error: (Syntax.SafetyErr (("unknown_file", (18, 26), (18, 27)),
          (Syntax.Shared, (Syntax.Var "x")),
          (Syntax.Shared, (Syntax.Var "x"))))
invalid global environment:
 [(Syntax.FnDef
     ("get", [(("unknown_file", (6, 7), (6, 8)), "a")], [],
      [("x",
        (("unknown_file", (6, 14), (6, 15)),
         (Syntax.Ref ((("unknown_file", (6, 15), (6, 16)), "a"),
            Syntax.Shared,
            (("unknown_file", (6, 18), (6, 23)), (Syntax.BaseTy Syntax.U32))
            ))))
        ],
      (("unknown_file", (6, 28), (6, 33)), (Syntax.BaseTy Syntax.U32)),
      (("unknown_file", (7, 4), (7, 5)),
       (Syntax.Move (Syntax.Deref (Syntax.Var "x"))))));
   (Syntax.FnDef
      ("set", [(("unknown_file", (10, 7), (10, 8)), "a")], [],
       [("x",
         (("unknown_file", (10, 14), (10, 15)),
          (Syntax.Ref ((("unknown_file", (10, 15), (10, 16)), "a"),
             Syntax.Unique,
             (("unknown_file", (10, 22), (10, 27)),
              (Syntax.BaseTy Syntax.U32))
             ))))
         ],
       (("unknown_file", (10, 0), (10, 2)), (Syntax.BaseTy Syntax.Unit)),
       (("", (1, 0), (1, 0)),
        (Syntax.Seq (
           (("unknown_file", (11, 4), (11, 5)),
            (Syntax.Assign ((Syntax.Deref (Syntax.Var "x")),
               (("unknown_file", (11, 9), (11, 10)),
                (Syntax.Prim (Syntax.Num 4)))
               ))),
           (("unknown_file", (11, 10), (11, 11)), (Syntax.Prim Syntax.Unit))
           )))));
   (Syntax.FnDef
      ("c", [], [], [],
       (("unknown_file", (14, 0), (14, 2)), (Syntax.BaseTy Syntax.Unit)),
       (("unknown_file", (15, 4), (15, 7)),
        (Syntax.Let ("x",
           (("unknown_file", (15, 15), (15, 20)), (Syntax.BaseTy Syntax.U32)),
           (("unknown_file", (15, 23), (15, 24)),
            (Syntax.Prim (Syntax.Num 3))),
           (("unknown_file", (16, 4), (16, 7)),
            (Syntax.Let ("tmp0",
               (("unknown_file", (16, 14), (16, 15)),
                (Syntax.Ref ((("unknown_file", (16, 15), (16, 16)), "a"),
                   Syntax.Unique,
                   (("unknown_file", (16, 22), (16, 27)),
                    (Syntax.BaseTy Syntax.U32))
                   ))),
               (("unknown_file", (16, 30), (16, 31)),
                (Syntax.Borrow ((("unknown_file", (16, 30), (16, 31)), "p2"),
                   Syntax.Unique, (Syntax.Var "x")))),
               (("unknown_file", (17, 4), (17, 7)),
                (Syntax.Let ("c1",
                   (("unknown_file", (17, 12), (17, 14)),
                    (Syntax.Fun ([], [], [], [],
                       (("unknown_file", (17, 20), (17, 22)),
                        (Syntax.BaseTy Syntax.Unit))
                       ))),
                   (("unknown_file", (17, 25), (17, 26)),
                    (Syntax.Fun ([], [], [], None,
                       (("unknown_file", (17, 28), (17, 31)),
                        (Syntax.App (
                           (("unknown_file", (17, 28), (17, 31)),
                            (Syntax.Fn "set")),
                           [(("unknown_file", (17, 34), (17, 35)), "a")], 
                           [],
                           [(("unknown_file", (17, 38), (17, 42)),
                             (Syntax.Move (Syntax.Var "tmp0")))]
                           )))
                       ))),
                   (("unknown_file", (18, 4), (18, 7)),
                    (Syntax.Let ("tmp1",
                       (("unknown_file", (18, 14), (18, 15)),
                        (Syntax.Ref (
                           (("unknown_file", (18, 15), (18, 16)), "b"),
                           Syntax.Shared,
                           (("unknown_file", (18, 18), (18, 23)),
                            (Syntax.BaseTy Syntax.U32))
                           ))),
                       (("unknown_file", (18, 26), (18, 27)),
                        (Syntax.Borrow (
                           (("unknown_file", (18, 26), (18, 27)), "p1"),
                           Syntax.Shared, (Syntax.Var "x")))),
                       (("unknown_file", (19, 4), (19, 7)),
                        (Syntax.Let ("c2",
                           (("unknown_file", (19, 12), (19, 14)),
                            (Syntax.Fun ([], [], [], [],
                               (("unknown_file", (19, 20), (19, 25)),
                                (Syntax.BaseTy Syntax.U32))
                               ))),
                           (("unknown_file", (19, 28), (19, 29)),
                            (Syntax.Fun ([], [], [], None,
                               (("unknown_file", (19, 31), (19, 38)),
                                (Syntax.BinOp (Syntax.Mul,
                                   (("unknown_file", (19, 32), (19, 33)),
                                    (Syntax.Move
                                       (Syntax.Deref (Syntax.Var "tmp1")))),
                                   (("unknown_file", (19, 41), (19, 42)),
                                    (Syntax.Prim (Syntax.Num 5)))
                                   )))
                               ))),
                           (("", (0, 0), (0, 0)),
                            (Syntax.Seq (
                               (("unknown_file", (21, 4), (21, 8)),
                                (Syntax.App (
                                   (("unknown_file", (21, 4), (21, 8)),
                                    (Syntax.Fn "drop")),
                                   [], [],
                                   [(("unknown_file", (21, 9), (21, 11)),
                                     (Syntax.Move (Syntax.Var "c1")))]
                                   ))),
                               (("unknown_file", (21, 12), (21, 13)),
                                (Syntax.Prim Syntax.Unit))
                               )))
                           )))
                       )))
                   )))
               )))
           )))));
   (Syntax.FnDef
      ("main", [], [], [],
       (("unknown_file", (24, 0), (24, 2)), (Syntax.BaseTy Syntax.Unit)),
       (("unknown_file", (24, 10), (25, 1)), (Syntax.Prim Syntax.Unit))))
   ]
