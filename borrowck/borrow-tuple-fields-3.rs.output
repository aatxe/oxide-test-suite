error: (Syntax.SafetyErr (("unknown_file", (12, 25), (12, 26)),
          (Syntax.Unique, (Syntax.IndexProj ((Syntax.Var "x"), 0))),
          (Syntax.Unique, (Syntax.IndexProj ((Syntax.Var "x"), 0)))))
invalid global environment:
 [(Syntax.TupStructDef
     (false, "Foo", [], [],
      [(("unknown_file", (5, 11), (5, 14)),
        (Syntax.Struct ("Box", [],
           [(("unknown_file", (5, 15), (5, 20)), (Syntax.BaseTy Syntax.U32))]
           )));
        (("unknown_file", (5, 23), (5, 28)), (Syntax.BaseTy Syntax.U32))]));
   (Syntax.TupStructDef
      (false, "Bar", [], [],
       [(("unknown_file", (7, 11), (7, 16)), (Syntax.BaseTy Syntax.U32));
         (("unknown_file", (7, 18), (7, 23)), (Syntax.BaseTy Syntax.U32))]));
   (Syntax.FnDef
      ("main", [], [], [],
       (("unknown_file", (9, 0), (9, 2)), (Syntax.BaseTy Syntax.Unit)),
       (("unknown_file", (10, 4), (10, 7)),
        (Syntax.Let ("x",
           (("unknown_file", (10, 15), (10, 25)),
            (Syntax.Tup
               [(("unknown_file", (10, 16), (10, 19)),
                 (Syntax.BaseTy Syntax.U32));
                 (("unknown_file", (10, 21), (10, 24)),
                  (Syntax.BaseTy Syntax.U32))
                 ])),
           (("unknown_file", (10, 28), (10, 34)),
            (Syntax.Tup
               [(("unknown_file", (10, 29), (10, 30)),
                 (Syntax.Prim (Syntax.Num 1)));
                 (("unknown_file", (10, 32), (10, 33)),
                  (Syntax.Prim (Syntax.Num 2)))
                 ])),
           (("unknown_file", (11, 4), (11, 7)),
            (Syntax.Let ("a",
               (("unknown_file", (11, 11), (11, 12)),
                (Syntax.Ref ((("unknown_file", (11, 12), (11, 13)), "a"),
                   Syntax.Unique,
                   (("unknown_file", (11, 19), (11, 22)),
                    (Syntax.BaseTy Syntax.U32))
                   ))),
               (("unknown_file", (11, 25), (11, 26)),
                (Syntax.Borrow ((("unknown_file", (11, 25), (11, 26)), "p2"),
                   Syntax.Unique, (Syntax.IndexProj ((Syntax.Var "x"), 0))))),
               (("unknown_file", (12, 4), (12, 7)),
                (Syntax.Let ("b",
                   (("unknown_file", (12, 11), (12, 12)),
                    (Syntax.Ref ((("unknown_file", (12, 12), (12, 13)), "b"),
                       Syntax.Unique,
                       (("unknown_file", (12, 19), (12, 22)),
                        (Syntax.BaseTy Syntax.U32))
                       ))),
                   (("unknown_file", (12, 25), (12, 26)),
                    (Syntax.Borrow (
                       (("unknown_file", (12, 25), (12, 26)), "p1"),
                       Syntax.Unique,
                       (Syntax.IndexProj ((Syntax.Var "x"), 0))))),
                   (("", (0, 0), (0, 0)),
                    (Syntax.Seq (
                       (("unknown_file", (13, 4), (13, 11)),
                        (Syntax.App (
                           (("unknown_file", (13, 4), (13, 11)),
                            (Syntax.Fn "use_ref")),
                           [(("unknown_file", (13, 14), (13, 15)), "a")],
                           [(("unknown_file", (13, 18), (13, 21)),
                             (Syntax.BaseTy Syntax.U32))],
                           [(("unknown_file", (13, 23), (13, 24)),
                             (Syntax.Move (Syntax.Var "a")))]
                           ))),
                       (("unknown_file", (13, 25), (13, 26)),
                        (Syntax.Prim Syntax.Unit))
                       )))
                   )))
               )))
           )))));
   (Syntax.FnDef
      ("use_mut", [(("unknown_file", (16, 11), (16, 12)), "a")], ["T"],
       [("x",
         (("unknown_file", (16, 21), (16, 22)),
          (Syntax.Ref ((("unknown_file", (16, 22), (16, 23)), "a"),
             Syntax.Unique,
             (("unknown_file", (16, 29), (16, 30)), (Syntax.TyVar "T"))))))
         ],
       (("unknown_file", (16, 0), (16, 2)), (Syntax.BaseTy Syntax.Unit)),
       (("unknown_file", (16, 32), (16, 35)), (Syntax.Prim Syntax.Unit))));
   (Syntax.FnDef
      ("use_ref", [(("unknown_file", (16, 47), (16, 48)), "a")], ["T"],
       [("x",
         (("unknown_file", (16, 57), (16, 58)),
          (Syntax.Ref ((("unknown_file", (16, 58), (16, 59)), "a"),
             Syntax.Shared,
             (("unknown_file", (16, 61), (16, 62)), (Syntax.TyVar "T"))))))
         ],
       (("unknown_file", (16, 36), (16, 38)), (Syntax.BaseTy Syntax.Unit)),
       (("unknown_file", (16, 64), (16, 67)), (Syntax.Prim Syntax.Unit))))
   ]
